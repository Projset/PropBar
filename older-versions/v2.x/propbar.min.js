// Projset :: PropBar - Javascript Library
// Version :: 2.0.0 [Minified] - MIT License

// Essential modules
// jScript Library

var __propbar__custom__event__;!function(){if(!window.jScript)return delete __propbar__custom__event__,console.log("%c'PropBar' needs 'jScript Library' to run.\nGet from https://github.com/Projset/jScript","font-weight: 500");Js.styleSheet("propbar-container{z-index:999998!important}propbar-container,propbar-container *{word-wrap:break-word;box-sizing:border-box;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-webkit-tap-highlight-color:transparent}propbar-container button{outline:0!important;border:0;background:inherit}.propbar-fx3dw{z-index:999999!important;font-size:15px;position:fixed!important;max-width:calc(100vw - 10vw);font-weight:400;background:0 0;font-family:inherit;transition-duration:.2s;transition-property:top,bottom,transform,opacity;transition-timing-function:ease}.propbar-fx3dw,.propbar-fx3dw[data-theme=light]{--prop-bar-color:#121212;--prop-bar-bg:#fff;--prop-bar-border:0,0,0,.1;--prop-bar-shadow-color:0,0,0,.4;--prop-bar-shadow:0px 2px 8px 0px rgb(var(--prop-bar-shadow-color));--prop-bar-hover:0,0,0,.2;--prop-bar-active:0,0,0,.1}.propbar-fx3dw[data-theme=dark]{--prop-bar-color:#d0d7de;--prop-bar-bg:#232323;--prop-bar-border:255,255,255,.1;--prop-bar-shadow-color:0 0 0 / 60%;--prop-bar-hover:255,255,255,.2;--prop-bar-active:255,255,255,.1}.propbar-fx3dw[data-align=left]{left:5vw}.propbar-fx3dw[data-align=center]{left:50%;transform:translateX(-50%)}.propbar-fx3dw[data-align=right]{right:5vw}:root.mobile-device .propbar-fx3dw,:root.mobile-device-ratio .propbar-fx3dw{max-width:calc(100vw - 20px);width:calc(100vw - 20px);left:10px;right:10px;transform:none}.propbar-tg5yh{background:var(--prop-bar-bg);color:var(--prop-bar-color);border-radius:5px;border:1px solid rgba(var(--prop-bar-border));box-shadow:var(--prop-bar-shadow);transition:all .2s ease}.propbar-fx3dw[data-clickable=true] .propbar-tg5yh{cursor:pointer!important;user-select:none!important}.propbar-hi3dn>.propbar-tg5yh{transform:scale(.7);opacity:0}.propbar-gt6iu{display:flex;flex-direction:row-reverse;align-items:center}.propbar-bj2wh,.propbar-lr7zf{display:inline-flex}.propbar-bj2wh{flex:1;padding:5px}.propbar-ef8ub{overflow:auto;max-height:30vh;padding:10px}.propbar-th2wq{display:inline-flex;flex-wrap:wrap}.propbar-ef8ub::-webkit-scrollbar{width:12px;height:12px;cursor:default}.propbar-ef8ub::-webkit-scrollbar-thumb{background:#7777;background-clip:padding-box;border:4px solid transparent;min-height:28px;min-width:28px;cursor:default;-webkit-border-radius:8px;border-radius:8px;-webkit-box-shadow:none;box-shadow:none}.propbar-ef8ub::-webkit-scrollbar-track{background:0 0;border:0}.propbar-ef8ub::-webkit-scrollbar-corner{background:0 0}.propbar-ef8ub::-webkit-scrollbar-thumb:active{border-width:3px;border-radius:0}.propbar-gt8il,.propbar-nm0oq{border-radius:4px;justify-content:center;align-items:center}.propbar-nm0oq{width:30px;height:30px;max-width:30px;max-height:30px;display:inline-flex;flex-wrap:nowrap;overflow:hidden;transition:.2s;margin:10px}.propbar-nm0oq:hover{cursor:pointer;background:#4285f4}.propbar-nm0oq:active{background:#6b9df0}.propbar-nm0oq svg{width:25px;height:25px;fill:var(--prop-bar-color);transform:scale(.7)}.propbar-gt8il{color:inherit;margin:4px 0 4px 8px;padding:8px 20px;font-size:14px;background:rgb(66 133 244/10%);border:1px solid rgb(66 133 244/60%);transition:background .2s ease}.propbar-gt8il:hover{cursor:pointer;background:rgb(66 133 244/50%)}.propbar-gt8il:active{background:rgb(66 133 244/30%)}","head","[propbar-style]"),__propbar__custom__event__=function(){var t=20,e=t;Js(".propbar").reverse().each((function(o,r){"top"===o.data("placement")?(o.css("top",e+"px").css("bottom",""),e+=o.height()+10):(o.css("bottom",t+"px").css("top",""),t+=o.height()+10)}))},Js(window).resize(__propbar__custom__event__)}();class PropBar{constructor(t){if(window.jScript){var e={align:["left","center","right"],allowHTML:[!1,!0],clickable:[!1,!0],closeButton:[!1,!0],placement:["bottom","top"],theme:["light","dark"]},o=function(t,r,n){if(!Js.ce("div").html(t??"").text())throw new Error("Failed to construct 'PropBar'.\nText argument in not defined.");return(parseInt(r)||null===r)&&(n=r,r={}),new class{onclose=null;ontimeout=null;timedelay=null;timeevent=null;constructor(){var l=this;l.placeholder=t,l.options=function(){function t(t,n){var l=r[t]??o.options[t];return e[t]&&!e[t].includes(l)&&(l=e[t][0]),l}return{addClass:(r=Is.object(r)?r:{}).addClass??o.options.addClass,align:t("align"),allowHTML:t("allowHTML"),buttons:r.buttons??o.options.buttons,clickable:t("clickable"),closeButton:t("closeButton"),onclose:r.onclose??o.options.onclose,ontimeout:r.ontimeout??o.options.ontimeout,placement:t("placement"),theme:t("theme"),timeout:parseInt(n)||parseInt(r.timeout)||parseInt(o.options.timeout)||null}}(),l.elements={},l.inherits=o.options,l.elements.outer=Js.ce(".propbar.propbar-fx3dw.propbar-hi3dn").appendTo(Js.cm("propbar-container","body")),l.elements.inner=Js.ce(".propbar-tg5yh").appendTo(l.elements.outer),l.elements.wrap=Js.ce(".propbar-gt6iu").appendTo(l.elements.inner),l.elements.close=Js.ce("span.propbar-lr7zf").appendTo(l.elements.wrap),l.elements.content=Js.ce("span.propbar-bj2wh").appendTo(l.elements.wrap),l.elements.holder=Js.ce("div.propbar-ef8ub").appendTo(l.elements.content),l.elements.text=Js.ce("span.propbar-qs9kg").appendTo(l.elements.holder),l.elements.button=Js.ce("span.propbar-th2wq").appendTo(l.elements.holder),l.options.allowHTML?l.elements.text.html(l.placeholder):l.elements.text.text(l.placeholder),l.elements.outer.data({align:l.options.align,clickable:l.options.clickable,placement:l.options.placement,theme:l.options.theme}),function t(){l&&l.elements&&l.elements.inner.click((function(){l&&l.options&&l.options.clickable?l.close():t()}),{once:!0})}(),l.elements.inner.addClass(l.options.addClass),l.closeButton(l.options.closeButton),l.buttons(l.options.buttons),l.options.onclose&&(l.onclose=l.options.onclose),l.options.ontimeout&&(l.ontimeout=l.options.ontimeout),l.elements.outer.proto("_propbar",l),setTimeout((function(){l.elements.outer.removeClass("propbar-hi3dn")}),200),l.timeout(l.options.timeout),__propbar__custom__event__()}align(t){return this&&this.options&&this.elements?(e.align.includes(t)&&(this.options.align=t,this.elements.outer.data("align",this.options.align),__propbar__custom__event__()),this):this}buttons(t){if(!(this&&this.options&&this.elements))return this;var e=this;return e.elements.button.empty(),function t(o){if(Is.array(o))return o.forEach((e=>{t(e)}));var r="",n=null;Is.object(o)?(r=o.name||o.text||o.html,n=o.click||o.onclick):r=o,r&&Is.string(r)&&Js.ce("button.propbar-gt8il[tabindex=-1]",r).appendTo(e.elements.button).click((function(t){t.preventDefault(),t.stopPropagation(),e.close(n)}),{once:!0})}(t),e.options.setButtons=t||null,__propbar__custom__event__(),this}clickable(t){return this&&this.options&&this.elements?(this.options.clickable=!!t,this.elements.outer.data("clickable",this.options.clickable),this):this}close(...t){if(!(this&&this.options&&this.elements))return this;var e=this,o=e.elements.outer;for(var r in o&&o.contained()&&(o.addClass("propbar-hi3dn"),setTimeout((function(){o.remove(),__propbar__custom__event__()}),200),__propbar__custom__event__()),t.forEach((e=>{Is.function(t)&&t()})),e)e.hasOwnProperty(r)&&delete e[r];return e}closeButton(t){if(!(this&&this.options&&this.elements))return this;var e=this;return e.elements.close.empty(),e.options.closeButton=!!t,e.options.closeButton&&Js.ce("button.propbar-nm0oq[tabindex=-1]",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>').appendTo(e.elements.close).click((function(o){o.preventDefault(),o.stopPropagation(),e.close(t)}),{once:!0}),__propbar__custom__event__(),e}placement(t){return this&&this.options&&this.elements?(e.placement.includes(t)&&(this.options.placement=t,this.elements.outer.data("placement",this.options.placement),__propbar__custom__event__()),this):this}setTimeout(t){return this.timeout(t)}text(t){return this&&this.options&&this.elements?(Js.ce("div").html(t??"").text()&&(this.placeholder=t,this.options.allowHTML?this.elements.text.html(this.placeholder):this.elements.text.text(this.placeholder),__propbar__custom__event__()),this):this}theme(t){return this&&this.options&&this.elements?(e.theme.includes(t)&&(this.options.theme=t,this.elements.outer.data("theme",this.options.theme),__propbar__custom__event__()),this):this}timeout(t){if(!(this&&this.options&&this.elements))return this;var e=this;return parseInt(t)?(clearTimeout(e.timeevent),e.timedelay=parseInt(t),e.timeevent=setTimeout((function(){e.close(e.ontimeout)}),e.timedelay)):null===t?(clearTimeout(e.timeevent),e.timeevent=null,e.timedelay=null):void 0===t&&(t=Is.function(t)?t:null,e.close(e.ontimeout,t)),this}update(t){return this.text(t)}}(t,r,n)};return o.options={addClass:null,align:"left",allowHTML:!1,buttons:null,clickable:!1,closeButton:!1,onclose:null,ontimeout:null,placement:"bottom",theme:"light",timeout:null},o.setDefault=function(t,r){var n=Js.arrObj.valToObj(t,r);for(var l in n)n.hasOwnProperty(l)&&(e[l]?e[l].includes(n[l])&&(this.options[l]=n[l]):this.options[l]=n[l]);return o.options},o.setDefault(t),o.get=function(t){return o.getElements().match(t).proto("_propbar")||null},o.getAll=function(){var t=[];return o.getElements().each((function(e){t.push(e.proto("_propbar")||{})})),t},o.getElements=function(){return Js(".propbar")},o}}}const Propbar=new PropBar;
